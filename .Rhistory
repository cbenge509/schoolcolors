?usethis::use_mit_license
x <- readLines("clipboard")
strsplit(x, "\t")
sapply(strsplit(x, "\t"), "[[", 1)
dput(sapply(strsplit(x, "\t"), "[[", 1))
dput(sort(sapply(strsplit(x, "\t"), "[[", 1)))
paste(sort(sapply(strsplit(x, "\t"), "[[", 1)), " = " , "c()")
paste(sort(sapply(strsplit(x, "\t"), "[[", 1)), "=" , "c()")
cat(paste(sort(sapply(strsplit(x, "\t"), "[[", 1)), "=" , "c()"), sep = ",\n"
)
?toupper
.simpleCap <- function(x) {
s <- strsplit(x, " ")[[1]]
paste(toupper(substring(s, 1, 1)), substring(s, 2),
sep = "", collapse = " ")
}
cat(paste(sort(.simpleCap(sapply(strsplit(x, "\t"), "[[", 1))), "=" , "c()"), sep = ",\n")
cat(paste(sort(sapply(strsplit(x, "\t"), function(x) .simpleCap(x[[1]])), "=" , "c()"), sep = ",\n")
cat(paste(sort(sapply(strsplit(x, "\t"), function(x) .simpleCap(x[[1]]))), "=" , "c()"), sep = ",\n")
cat(paste(sort(sapply(strsplit(x, "\t"), function(x) gsub(" ", "_", tolower(x[[1]])))), "=" , "c()"), sep = ",\n")
x <- readLines("clipboard")
cat(paste(sort(sapply(strsplit(x, "\t"), function(x) gsub(" ", "_", tolower(x[[1]])))), "=" , "c()"), sep = ",\n")
cat(paste(sapply(strsplit(x, "\t"), function(x) gsub(" ", "_", tolower(x[[1]]))), "=" , "c()"), sep = ",\n")
usethis::use_mit_license()
?usethis::use_mit_license()
usethis::use_mit_license("Derek Norton; Cris Benge")
library(rvest)
ncaa_url <- "https://www.ncaa.com/schools-index"
html <- read_html(ncaa_url)
html_node(html,"//*[@id="schools-index"]/table") %>%
html_table() %>%
head()
html_node(html,"//*[@id="schools-index"]/table")
html_node(html,"#schools-index") %>%
html_table() %>%
head()
characters <- html_nodes(html, "td")
html_node(html,"td") %>%
html_table() %>%
head()
html_node(html,"td")
html_node(html,"td") %>%
html_table()
html_node(html,"td") %>%
html_table() %>%
str()
html_node(html,"td") %>%
str()
x <- html_node(html,"td")
x[[1]]
x[[2]]
x
html_node(html)
html_nodes(xpath = '//*[@id="schools-index"]/table')
html_nodes(x, xpath = '//*[@id="schools-index"]/table')
html_nodes(html, xpath = '//*[@id="schools-index"]/table') %>%
head()
html_nodes(html, xpath = '//*[@id="schools-index"]/table') %>%
html_table()
html %>%
html_node("table")
html %>%
html_node("table") %>%
html_table()
html %>%
html_node("table") %>%
html_table()%>%
pull(Name)
library(dplyr)
html %>%
html_node("table") %>%
html_table()%>%
pull(Name)
html %>%
html_node("table") %>%
html_table()%>%
.$Name
parse_schools <- function(page) {
new_url <- paste0(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
.$Name %>%
tolower() %>%
gsub(" ", _, .)
}
parse_schools <- function(page) {
new_url <- paste0(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
.$Name %>%
tolower() %>%
gsub(" ", "_", .)
}
parse_schools(0)
parse_schools(1)
parse_schools <- function(page) {
new_url <- file.path(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
.$Name %>%
tolower() %>%
gsub(" ", "_", .)
}
parse_schools <- function(page) {
new_url <- file.path(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
.$Name %>%
tolower() %>%
gsub(" ", "_", .)
}
parse_schools(1)
parse_schools(0)
parse_schools <- function(page) {
new_url <- file.path(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
.$Schools %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.()]", "")
}
parse_schools(0)
parse_schools <- function(page) {
new_url <- file.path(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
.$Schools %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.()]", "", .)
}
parse_schools(0)
parse_schools <- function(page) {
new_url <- file.path(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
mutate(Name = if_else(Name = "", Schools, Name)) %>%
.$Name %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.()]", "", .)
}
parse_schools <- function(page) {
new_url <- file.path(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
mutate(Name = if_else(Name = "", Schools, Name)) %>%
.$Name %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.()]", "", .)
}
parse_schools(0)
parse_schools(1)
ncaa_url <- "https://www.ncaa.com/schools-index/"
new_url <- file.path(ncaa_url, page)
new_url <- file.path(ncaa_url, 1)
new_url <- paste0(ncaa_url, 0)
new_url <- paste0(ncaa_url, 1)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
mutate(Name = if_else(Name = "", Schools, Name))
read_html(new_url) %>%
html_node("table") %>%
html_table()
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
coalesce(.$Name, .$Schools)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
.$Name
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
.[2:3]
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(name = coalesce(Name, Schools))
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(Name = if_else(Name = "", Schools, Name))
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(Name = if_else(Name == "", Schools, Name))
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(Name = if_else(Name == "", Schools, Name)) %>%
.$Name %>%
tolower() %>%
gsub(" |-", "_", .)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(Name = if_else(Name == "", Schools, Name)) %>%
.$Name %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.()]", "", .)
parse_schools <- function(page) {
new_url <- paste0(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(Name = if_else(Name == "", Schools, Name)) %>%
.$Name %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.()]", "", .)
}
parse_schools(0)
parse_schools <- function(page) {
new_url <- paste0(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(Name = if_else(Name == "", Schools, Name)) %>%
.$Name %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.()]", "", .) %>%
gsub('(_)\\1+', '\\1', .)
}
sapply(pages, parse_schools)
pages <- 0:23
sapply(pages, parse_schools)
schools <- sapply(pages, parse_schools)
schools
sapply(schools, class)
unlist(schools)
sapply(pages, parse_schools, simplify = "vector")
c(schools)
schools <- unlist(lapply(pages, parse_schools, simplify = "vector"))
schools <- unlist(lapply(pages, parse_schools))
paste(paste(schools, "=", "c()"), sep = ",\n")
cat(paste(schools, "=", "c()"), sep = ",\n")
parse_schools <- function(page) {
new_url <- paste0(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(Name = if_else(Name == "", Schools, Name)) %>%
.$Name %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.()']", "", .) %>%
gsub('(_)\\1+', '\\1', .)
}
schools <- unlist(lapply(pages, parse_schools))
cat(paste(schools, "=", "c()"), sep = ",\n")
parse_schools <- function(page) {
new_url <- paste0(ncaa_url, page)
read_html(new_url) %>%
html_node("table") %>%
html_table() %>%
select(-1) %>%
mutate(Name = if_else(Name == "", Schools, Name)) %>%
.$Name %>%
tolower() %>%
gsub(" |-", "_", .) %>%
gsub("[&.,()']", "", .) %>%
gsub('(_)\\1+', '\\1', .)
}
schools <- unlist(lapply(pages, parse_schools))
setNames(vector(mode = "list", length = length(schools)), schools)
schools <- setNames(vector(mode = "list", length = length(schools)), schools)
for(i in seq_along(schools)){
schools[[i]] <- c("", "")
}
dput(schools)
schools <- unlist(lapply(pages, parse_schools))
cat(paste(schools, "=", "c()"), sep = ",\n")
cat(paste(schools[1:500], "=", "c()"), sep = ",\n")
cat(paste(schools[501:1159], "=", "c()"), sep = ",\n")
install.packages("languageserver")
